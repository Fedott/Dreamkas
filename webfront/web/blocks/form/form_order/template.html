<% var model = model || new Backbone.Model() %>
<% var OrderProductsCollection = require('collections/orderProducts') %>
<% var collections = _.extend({
    orderProducts: new OrderProductsCollection()
}, collections); %>
<% var templates = {
    form_orderProduct: require('tpl!blocks/form/form_orderProduct/template.html')
} %>

<form id="form_order" class="form form_order">
    <div class="form__field">
        <label class="form__label">Поставщик</label>
        <select class="select" name="supplier">
            <option value="" selected disabled>Выберите поставщика</option>
            <% collections.suppliers.forEach(function(supplierModel){ %>
            <option value="<%- supplierModel.id %>"><%- supplierModel.get('name') %></option>
            <% }) %>
        </select>
    </div>
</form>

<% if (collections.orderProducts.length) { %>
<table class="table table__orderProducts">
    <thead>
    <tr>
        <th>
            Товар
        </th>
        <th>
            Кол-во
        </th>
        <th>
            Цена
        </th>
        <th>
            Сумма
        </th>
    </tr>
    </thead>
    <tbody>
    <% collections.orderProducts.forEach(function(orderProductModel) { %>
    <tr>
        <td>

        </td>
        <td>

        </td>
        <td>

        </td>
        <td>

        </td>
    </tr>
    <% }) %>
    </tbody>
</table>
<% } %>

<div class="form_order__productForm">
    <h2>Добавить товар в заказ</h2>
    <%= templates.form_orderProduct() %>
</div>

<div class="form_order__totalSum">
    Итого: 2 331,00 руб.
</div>

<div class="form__controls">
    <button form="form_order" type="submit" class="button">
        Сохранить
    </button>
    <span style="margin-right: 10px;">
        или
    </span>
    <a style="margin-right: 20px;" href="/orders">
        Отменить
    </a>
</div>